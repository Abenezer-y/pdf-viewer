<link rel="import" href="../../polymer/polymer-element.html">
<link rel="import" href="../../paper-fab/paper-fab.html">
<link rel="import" href="../../iron-icons/iron-icons.html">
<link rel="import" href="../pdf-viewer.html">

<dom-module id="x-pdf">
  <template>
    <style>
      :host {
        display: flex;
        flex-direction: column;
        position: relative;
        flex: 1;
        touch-action: none;
      }

      [hidden] {
        display: none !important;
      }

      pdf-viewer {
        flex: 1;
      }

      footer {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
      }

      nav {
        position: absolute;
        bottom: 20px;
        right: 10px;
      }

      paper-fab {
        margin: 10px;
        color: dimgray;
      }

    </style>
    <pdf-viewer id="viewer" 
      initial-zoom="fit" 
      src="/data/20170220_PAR.pdf" 
      mode="single" 
      page="{{page}}" 
      pages="{{pages}}"></pdf-viewer>
    <nav>
      <paper-fab mini icon="fullscreen" on-tap="fitWidth"></paper-fab>
      <paper-fab mini icon="fullscreen-exit" on-tap="fit"></paper-fab>
      <paper-fab mini icon="zoom-in" on-tap="zoomin"></paper-fab>
      <paper-fab mini icon="zoom-out" on-tap="zoomout"></paper-fab>
    </nav>
    <footer>
      <paper-fab mini icon="arrow-back" on-tap="previous"></paper-fab>
      <div>[[page]]/[[pages]]</div>
      <paper-fab mini icon="arrow-forward" on-tap="next"></paper-fab>
    </footer>
  </template>
  <script>
    class XPdf extends Polymer.Element {
      static get is() {
        return 'x-pdf'
      }

      static get properties() {
        return {
          page: { type: Number },
        }
      }

      fitWidth() {
        this.$.viewer.fitWidth()
      }
      fit() {
        this.$.viewer.fit()
      }
      zoomin() {
        this.$.viewer.zoomin()
      }
      zoomout() {
        this.$.viewer.zoomout()
      }
      next() {
        this.$.viewer.next()
      }
      previous() {
        this.$.viewer.previous()
      }
    }

    window.customElements.define(XPdf.is, XPdf)
  </script>
</dom-module>
